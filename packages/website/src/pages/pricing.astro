---
import Layout from "../layouts/Layout.astro";
import Container from "../components/Container.astro";
import { PricingCalculator } from "../components/PricingCalculator";
import Faq from "../components/Faq.astro";
import LinkButton from "../components/LinkButton.astro";
import { Card } from "../components/Card";

const frontendUrl = import.meta.env.FRONTEND_URL;

const trialUrl = `${frontendUrl}/register`;
---

<Layout title="Pricing plans of Progressively">
  <Container>
    <header
      class="flex flex-col pt-20 md:pt-40 pb-12 gap-4 md:text-center md:items-center md:justify-center"
    >
      <h1 class="text-5xl md:text-6xl font-extrabold">Pricing</h1>
      <p class="text-2xl leading-relaxed max-w-4xl">
        The product is at an early pricing discovery stage. The pricing will
        vary in the future, <strong>for more or for less</strong> depending on the
        cost of servers and databases used under the hood. But don't worry, pricing
        changes will not be so significant and it should reach stability at some
        point.
      </p>
    </header>

    <main>
      <div class="mx-auto max-w-2xl">
        <Card>
          <div class="p-4 md:p-12">
            <PricingCalculator client:load />
          </div>
        </Card>
      </div>

      <div class="text-center pt-4 pb-20">
        <LinkButton href={trialUrl}>Start your free trial</LinkButton>
      </div>

      <div class="py-20">
        <h2 class="font-extrabold text-4xl md:text-5xl pb-4 md:text-center">
          FAQ
        </h2>
        <div class="flex flex-col gap-4 mx-auto max-w-4xl">
          <Faq title="What count as an event?">
            An event is a metric hit or a flag evaluation. A flag evaluation
            corresponds to the computation of <strong
              >one feature flag value</strong
            >. If your project contains <strong
              >3 feature flags, there will be 3 flag evaluations</strong
            > when requesting the server.
          </Faq>

          <Faq title="What happens when the events count is reached?">
            When the events count limit is reached, the users will receive the
            flag has deactivated until the next month or an upgrade of your
            plan.
          </Faq>
        </div>
      </div>
    </main>
  </Container>
</Layout>
