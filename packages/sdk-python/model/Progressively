import base64, requests
from json import JSONEncoder
from multiprocessing.dummy import Array
from tokenize import String


class Progressively:
    def __init__(self, options) -> None:
        self.options["apiUrl"] = options["apiUrl"] | "https://api.progressively.app/sdk/"
        self.options["websocketUrl"] = options["websocketUrl"] | "wss://api.progressively.app"
        self.clientKey = options["clientKey"]
        self.idUser = "None"

    def create(self, params) -> Progressively:
        return self(params)
    
    def encodeField(self) -> String:
        return base64.encode(JSONEncoder({"clientKey":self.clientKey,"id":self.idUser}))

    def callApi(self) -> Array:
        url = self.options['apiUrl'] + self.encodeField
        payload={}
        headers = {}


# Create a static method 
Progressively.create = staticmethod(Progressively.create)