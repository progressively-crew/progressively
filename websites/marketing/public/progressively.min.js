!function(){"use strict";var t=window.document.currentScript,e=null==t?void 0:t.getAttribute("data-progressively-endpoint"),r=null==t?void 0:t.getAttribute("data-progressively-client-key");if(!e||!r)throw new Error("[Progressively]: [data-progressively-endpoint] and [data-progressively-client-key] attributes should be set on the script tag.");var n={clientKey:r},i=btoa(JSON.stringify(n)),o=function(t){var r={name:t,url:window.location.href,referer:window.document.referrer||null};return fetch("".concat(e,"/sdk/").concat(i),{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}})},a=function(){return o("Page View")};window.addEventListener("popstate",a);var s=history.pushState,c=history.replaceState;history.pushState=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.apply(this,t),a()},history.replaceState=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c.apply(this,t),a()},window.track=o}();
