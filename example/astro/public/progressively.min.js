!function(){"use strict";var t=function(){var t=window.document.currentScript,e=null==t?void 0:t.getAttribute("data-progressively-endpoint"),i=null==t?void 0:t.getAttribute("data-progressively-client-key"),n=null==t?void 0:t.getAttribute("data-progressively-qualitative-tracking");if(!e||!i)throw new Error("[Progressively]: [data-progressively-endpoint] and [data-progressively-client-key] attributes should be set on the script tag.");var o={clientKey:i};return{endpoint:e,bSixtyFour:btoa(JSON.stringify(o)),shouldTrackQuantitative:n}}(),e=t.endpoint,i=t.bSixtyFour,n=t.shouldTrackQuantitative,o=[],r=function(){var t=o.map((function(t){var e,i,n;return{name:t.name,url:window.location.href,referer:window.document.referrer||void 0,viewportWidth:window.innerWidth,viewportHeight:document.documentElement.scrollHeight,posX:null===(e=t.opts)||void 0===e?void 0:e.posX,posY:null===(i=t.opts)||void 0===i?void 0:i.posY,data:(null===(n=t.opts)||void 0===n?void 0:n.data)?"string"==typeof t.opts.data?t.opts.data:JSON.stringify(t.opts.data):void 0}}));return o=[],fetch("".concat(e,"/sdk/").concat(i),{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})};setInterval((function(){o.length>0&&r()}),5e3);var a=function(t,e){void 0===e&&(e={}),o.push({name:t,opts:e}),o.length>=10&&r()},s=function(){return a("Page View")};!function(t){window.addEventListener("popstate",t);var e=history.pushState,i=history.replaceState;history.pushState=function(){for(var i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];e.apply(this,i),t()},history.replaceState=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];i.apply(this,e),t()}}(s),n&&function(t){document.addEventListener("click",(function(e){t("__click",{posX:e.pageX,posY:e.pageY})}))}(a),-1!==window.location.href.indexOf("#__progressively")&&function(t){var e=document.createElement("script");e.src="https://progressively.app/progressively.qualitative-analytics.min.js",e.setAttribute("data-progressively-endpoint",t),document.body.appendChild(e)}(e),s(),window.track=a}();
