!function(){"use strict";var t=window.document.currentScript,e=null==t?void 0:t.getAttribute("data-progressively-endpoint"),r=null==t?void 0:t.getAttribute("data-progressively-client-key");if(!e||!r)throw new Error("[Progressively]: [data-progressively-endpoint] and [data-progressively-client-key] attributes should be set on the script tag.");var i={clientKey:r},n=btoa(JSON.stringify(i)),o=function(t){var r={name:t,url:window.location.href,referer:window.document.referrer||null,viewportWidth:window.innerWidth,viewportHeight:window.innerHeight};return fetch("".concat(e,"/sdk/").concat(n),{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}})},a=function(){return o("Page View")};window.addEventListener("popstate",a);var s=history.pushState,d=history.replaceState;history.pushState=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.apply(this,t),a()},history.replaceState=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];d.apply(this,t),a()},a(),window.track=o}();
