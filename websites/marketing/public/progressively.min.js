!function(){"use strict";var t=window.document.currentScript,e=null==t?void 0:t.getAttribute("data-progressively-endpoint"),o=null==t?void 0:t.getAttribute("data-progressively-client-key"),i=null==t?void 0:t.getAttribute("data-progressively-track");if(!e||!o)throw new Error("[Progressively]: [data-progressively-endpoint] and [data-progressively-client-key] attributes should be set on the script tag.");var r={clientKey:o},n=btoa(JSON.stringify(r)),a=function(t,o){void 0===o&&(o={});var i={name:t,url:window.location.href,referer:window.document.referrer||null,viewportWidth:window.innerWidth,viewportHeight:window.innerHeight,posX:o.posX,posY:o.posY,data:o.data?"string"==typeof o.data?o.data:JSON.stringify(o.data):void 0};return fetch("".concat(e,"/sdk/").concat(n),{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json"}})},s=function(){return a("Page View")};window.addEventListener("popstate",s);var d=history.pushState,l=history.replaceState;if(history.pushState=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];d.apply(this,t),s()},history.replaceState=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];l.apply(this,t),s()},s(),i){document.addEventListener("click",(function(t){a("Click",{posX:t.clientX,posY:t.clientY})}));var c=0;document.addEventListener("scrollend",(function(){if(0===c){a("Scroll",{posX:window.scrollX,posY:window.scrollY});var t=window.scrollX,e=window.scrollY;setTimeout((function(){console.log("triggered"),window.scrollTo({top:e,left:t,behavior:"smooth"})}),5e3)}c++}))}window.track=a}();
